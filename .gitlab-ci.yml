image : node:latest

stages:
  - install
  - test

cache :
  paths :
   - node_modules/

install :
 stage : install
 script :
  - npm install
 artifacts :
  paths:
    - node_modules/

test :
  stage : test
  script : 
   - npm run test